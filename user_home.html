<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic Web Page with Bootstrap</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/home_page.css">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/cropperjs@1.5.12/dist/cropper.min.css" rel="stylesheet">
    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
    <!-- Cropper.js -->
    <script src="https://cdn.jsdelivr.net/npm/cropperjs@1.5.12/dist/cropper.min.js"></script>
    <!-- Font Awesome CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <style>

    </style>
</head>

<body>

    <div class="container-fluid my-1">
        <div class="row">
            <div class="col-sm-12 header">
                <h4>Code Smiles &nbsp;&nbsp; </h4>

                <form class="form-inline mr-auto">
                    <input id="searchInput" class="form-control mr-sm-2" type="search" placeholder="Search"
                        aria-label="Search">
                </form>
                <nav class="navbar navbar-light bg-warning">
                    <div class="container">
                        <div class="header">
                            <h5>
                                <a href="./homepage2.html?user="><i class="fas fa-home"></i></a>
                                <a href="#"><i class="fas fa-info-circle"></i></a>
                                <a href="#"><i class="fas fa-bell"></i></a>
                            </h5>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
        <div class="row">
            <div class="col-md-2" style="border: 0.1px solid yellow">
                <br>
                <div class="card">
                    <div class="card-body" id="loggedUserName">
                        <h5 class="card-title"></h5>
                    </div>
                </div>
                <br>
                <div class="card">
                    <div class="card-body">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                            <li class="nav-item">
                                <a class="nav-link active" aria-current="page" href="#"
                                    onclick="showContent('content1')">Jobs</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" aria-current="page" href="#"
                                    onclick="showContent('content2')">Profile</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" aria-current="page" href="#"
                                    onclick="showContent('content3')">Connections</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" aria-current="page" href="opportunities.html"
                                    onclick="showContent('content4')">Opportunities</a>
                            </li>
                        </ul>

                    </div>
                </div>
                <br>
                <div class="card">
                    <div class="card-body">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                            <li class="nav-item">
                                <a class="nav-link active" aria-current="page" href="./homepage2.html">Logout</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col-md-7" style="border: 0.1px solid yellow">
                <div class="row">
                    <div class="content" class="col-md-12">
                        <div id="content1" class="button-container" class="hidden">
                            <div class="card">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="box" onclick="openPage('USP.html?userid=$userid') ">
                                                USP
                                            </div>
                                            <div class="col-md-4">
                                            </div>
                                            <div class="box" onclick="window.open('USP.html', '_blank')">
                                                Job Applications
                                            </div>
                                            <div class="box" onclick="window.open('USP.html', '_blank')">
                                                Upgrade Yourself
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="box" onclick="window.open('introqst.html', '_blank')">
                                                Learn Today
                                            </div>
                                            <div class="box" onclick="window.open('Self.html', '_blank')">
                                                Challenge Others
                                            </div>
                                            <div class="box" onclick="window.open('USP.html', '_blank')">
                                                Connect with others
                                            </div>
                                            <div class="box" onclick="window.open('USP.html', '_blank')">
                                                Compare with Others
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="box" onclick="window.open('USP.html', '_blank')">
                                                How much do you know
                                            </div>
                                            <div class="box" onclick="window.open('Self.html', '_blank')">
                                                Roadmap
                                            </div>
                                            <div class="box" onclick="window.open('USP.html', '_blank')">
                                                Alumini Info
                                            </div>
                                            <div class="box" onclick="window.open('USP.html', '_blank')">
                                                Book my Slot
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="content2" class="hidden">
                            <div id="viewMode">
                                <div>
                                    <h5 class="hr-lines">Basic Details</h5>
                                </div>
                                <div>
                                    <br>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="image-container">
                                            <div>
                                                <img src="images/default-passport.jpg" alt="Uploaded Image"
                                                    id="uploaded-image" class="img-fluid">
                                            </div>

                                            <div class="edit-options" id="edit-options">
                                                <button class="btn btn-warning" id="edit-image-btn"
                                                    style="display: none;">Edit Image</button>
                                                <button class="btn btn-primary" id="upload-image-btn">Upload
                                                    Image</button>
                                                <input type="file" id="upload-input" style="display: none;">
                                                <button class="btn btn-success" id="save-image-btn"
                                                    style="display: none;">Save Image</button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <p><strong>Name:</strong> <span id="firstNameDisplay"></span></p>
                                        <p><strong>Email:</strong> <span id="emailDisplay"></span>
                                        </p>
                                    </div>
                                    <div class="col-md-1">
                                        <button class="btn " onclick="toggleEditMode()"><svg width="15" height="15"
                                                viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none"
                                                stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                                stroke-linejoin="round">
                                                <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                                <div>
                                    <hr>
                                </div>
                                <div>
                                    <h5 class="mb-3 hr-lines">Education</h5>
                                </div>
                                <div>
                                    <br>
                                </div>

                            </div>
                            <div id="editMode" class="hidden">
                                <div>
                                    <h5 class="mb-3">Editing Basic Details</h5>
                                </div>
                                <div>
                                    <hr>
                                </div>
                                <form id="updateName">
                                    <div class="form-group">
                                        <label for="firstNameEdit">First Name</label>
                                        <input type="text" class="form-control" id="firstNameEdit"
                                            placeholder="Enter your first name">
                                    </div>
                                    <div class="form-group">
                                        <label for="emailEdit">Email address</label>
                                        <input type="email" class="form-control" id="emailEdit"
                                            placeholder="Enter your email">
                                    </div>
                                    <div>
                                        <input type="hidden" id="userid" name="userid">
                                        <button type="submit" class="btn ">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor" class="bi bi-floppy" viewBox="0 0 16 16">
                                                <path d="M11 2H9v3h2z" />
                                                <path
                                                    d="M1.5 0h11.586a1.5 1.5 0 0 1 1.06.44l1.415 1.414A1.5 1.5 0 0 1 16 2.914V14.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5v-13A1.5 1.5 0 0 1 1.5 0M1 1.5v13a.5.5 0 0 0 .5.5H2v-4.5A1.5 1.5 0 0 1 3.5 9h9a1.5 1.5 0 0 1 1.5 1.5V15h.5a.5.5 0 0 0 .5-.5V2.914a.5.5 0 0 0-.146-.353l-1.415-1.415A.5.5 0 0 0 13.086 1H13v4.5A1.5 1.5 0 0 1 11.5 7h-7A1.5 1.5 0 0 1 3 5.5V1H1.5a.5.5 0 0 0-.5.5m3 4a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5V1H4zM3 15h10v-4.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5z" />
                                            </svg>
                                        </button>
                                        <button onclick="toggleEditMode()" class="btn">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                                                <path
                                                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708" />
                                            </svg>
                                        </button>
                                    </div>
                                    <div>
                                        <hr>
                                    </div>
                                </form>
                            </div>
                            <div id="viewMode2">
                                <div class="row">
                                    <div class="col-md-6">
                                        <p><strong>School:</strong> <span id="schoolDisplay">IEA</span>
                                        </p>
                                        <p><strong>Intermediate:</strong> <span id="interDisplay">Narayana</span>
                                        </p>
                                    </div>
                                    <div class="col-md-5">
                                        <p><strong>Graduation:</strong> <span id="graduationDisplay">Sridevi</span>
                                        </p>

                                    </div>
                                    <div class="col-md-1">
                                        <button class="btn " onclick="toggleEditMode2()">
                                            <svg width="15" height="15" viewBox="0 0 24 24"
                                                xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor"
                                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div id="editMode2" class="hidden">
                                <form id="updateEducation">
                                    <div class="form-group">
                                        <label for="schoolEdit">School</label>
                                        <input type="text" class="form-control" id="schoolEdit"
                                            placeholder="Enter your school name">
                                    </div>
                                    <div class="form-group">
                                        <label for="interEdit">Intermediate</label>
                                        <input type="text" class="form-control" id="interEdit"
                                            placeholder="Enter your intermediate college name">
                                    </div>
                                    <div class="form-group">
                                        <label for="graduationEdit">Graduation</label>
                                        <input type="text" class="form-control" id="graduationEdit"
                                            placeholder="Enter your graduation college name">
                                    </div>
                                    <div>
                                        <input type="hidden" id="userid" name="userid">
                                        <button type="button" class="btn" onclick="saveChanges2()">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor" class="bi bi-floppy" viewBox="0 0 16 16">
                                                <path d="M11 2H9v3h2z" />
                                                <path
                                                    d="M1.5 0h11.586a1.5 1.5 0 0 1 1.06.44l1.415 1.414A1.5 1.5 0 0 1 16 2.914V14.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5v-13A1.5 1.5 0 0 1 1.5 0M1 1.5v13a.5.5 0 0 0 .5.5H2v-4.5A1.5 1.5 0 0 1 3.5 9h9a1.5 1.5 0 0 1 1.5 1.5V15h.5a.5.5 0 0 0 .5-.5V2.914a.5.5 0 0 0-.146-.353l-1.415-1.415A.5.5 0 0 0 13.086 1H13v4.5A1.5 1.5 0 0 1 11.5 7h-7A1.5 1.5 0 0 1 3 5.5V1H1.5a.5.5 0 0 0-.5.5m3 4a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5V1H4zM3 15h10v-4.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5z" />
                                            </svg>
                                        </button>
                                        <button type="button" onclick="cancelEducationToggle()" class="btn">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                                                <path
                                                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708" />
                                            </svg>
                                        </button>
                                    </div>
                                </form>
                            </div>
                            <div>
                                <hr>
                            </div>
                            <div>
                                <h5 class="mb-3 hr-lines">Contact</h5>
                            </div>
                            <div>
                                <br>
                            </div>
                            <div id="viewMode3">
                                <div class="row ">
                                    <div class="col-md-5">
                                        <p><strong>Address:</strong> <span id="addressDisplay">Flat 301 Grand
                                                Residency
                                                IAS
                                                Colony</span>
                                        </p>
                                    </div>
                                    <div class="col-md-6">
                                        <p><strong>Phone:</strong> <span id="phoneDisplay">9999999999999</span>
                                        </p>
                                        <p><strong>Country:</strong> <span id="countryDisplay">India</span></p>
                                    </div>
                                    <div class="col-md-1">
                                        <button type="button" class="btn " onclick="toggleEditMode3()">
                                            <svg width="15" height="15" viewBox="0 0 24 24"
                                                xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor"
                                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z" />
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <div id="editMode3" class="hidden">
                                <form id="updateContact">
                                    <div class="form-group">
                                        <label for="addressEdit">
                                            <Address>Address</Address>
                                        </label>
                                        <textarea class="form-control" id="addressEdit" style="width: 250px;"
                                            placeholder="Enter your address"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="phoneEdit">Phone</label>
                                        <input type="text" class="form-control" id="phoneEdit"
                                            placeholder="Enter your phone number">
                                    </div>
                                    <div class="form-group">
                                        <label for="countryEdit">Country</label>
                                        <input type="text" class="form-control" id="countryEdit"
                                            placeholder="Enter your Country">
                                    </div>
                                    <div>
                                        <button type="submit" class="btn " onclick="saveChanges3()">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor" class="bi bi-floppy" viewBox="0 0 16 16">
                                                <path d="M11 2H9v3h2z" />
                                                <path
                                                    d="M1.5 0h11.586a1.5 1.5 0 0 1 1.06.44l1.415 1.414A1.5 1.5 0 0 1 16 2.914V14.5a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5v-13A1.5 1.5 0 0 1 1.5 0M1 1.5v13a.5.5 0 0 0 .5.5H2v-4.5A1.5 1.5 0 0 1 3.5 9h9a1.5 1.5 0 0 1 1.5 1.5V15h.5a.5.5 0 0 0 .5-.5V2.914a.5.5 0 0 0-.146-.353l-1.415-1.415A.5.5 0 0 0 13.086 1H13v4.5A1.5 1.5 0 0 1 11.5 7h-7A1.5 1.5 0 0 1 3 5.5V1H1.5a.5.5 0 0 0-.5.5m3 4a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5V1H4zM3 15h10v-4.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5z" />
                                            </svg>
                                        </button>
                                        <button type="submit" class="btn " onclick="cancelContact()">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">
                                                <path
                                                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708" />
                                            </svg>
                                        </button>
                                    </div>
                                </form>
                            </div>
                            <div>
                                <br>
                            </div>
                        </div>
                        <div id="content3" class="hidden">
                            <h2>Content 2</h2>
                            <p>This is content for Item 2.</p>
                        </div>
                        <div id="content4" class="hidden">
                            <h2>Content 3</h2>
                            <p>This is content for Item 3.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3" style="border: 0.1px solid yellow">
                <div class="container-fluid">
                    <br>
                    <!-- Sidebar -->
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Latest College News</h5>
                            <ul class="list-group">
                                <li class="list-group-item">New Scholarship Opportunities Announced</li>
                                <li class="list-group-item">Top 10 Colleges for Computer Science Majors</li>
                            </ul>
                        </div>
                    </div>
                    <br>
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">Some other News</h5>
                            <ul class="list-group">
                                <li class="list-group-item">New Scholarship Opportunities Announced</li>
                                <li class="list-group-item">Top 10 Colleges for Computer Science Majors</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    </div>

    <script>
        // Get username from URL parameter
        var urlParams = new URLSearchParams(window.location.search);
        var fullname = sessionStorage.getItem('fullName');
        // Fetch data from PHP backend using AJAX
        var userid = urlParams.get('userid');
        document.addEventListener('DOMContentLoaded', function () {

            console.log("full name..." + fullname)

            // Display username
            var loggedUserName = document.getElementById('loggedUserName');
            if (loggedUserName) {
                loggedUserName.innerText = "Welcome \n" + fullname;
            } else {
                console.error('Element with id "loggedUserName" not found.');
            }

        });

        function showContent(contentId) {
            var firstName = sessionStorage.getItem('fullName');
            document.getElementById('firstNameDisplay').innerHTML = firstName;
            var contents = document.querySelectorAll('.content > div');
            contents.forEach(function (content) {
                if (content.id === contentId) {
                    content.classList.remove('hidden');
                } else {
                    content.classList.add('hidden');
                }
            });

            //////////////////////////////////The below code fetches user name and email from the database //////////////////////////////////
            $(document).ready(function () {

                $.ajax({
                    url: "user_get_basic.php?userid=" + userid,
                    method: "GET",
                    success: function (response) {
                        console.log("data from backend ", response);
                        // Parse the JSON response
                        var userData = JSON.parse(response);

                        // Set values of HTML div elements
                        document.getElementById('firstNameDisplay').innerHTML = userData.fullname;
                        document.getElementById('emailDisplay').innerHTML = userData.email;
                    },
                    error: function (xhr, status, error) {
                        console.error(xhr.responseText); // Log any errors
                    }
                });
            });

        }
        //////////////////////////////////The above code fetches user name and email from the database //////////////////////////////////


        //////////////////////////////////The below code toggles edit button and cancel button //////////////////////////////////


        //////////////////////////////////The above code toggles edit button and cancel button //////////////////////////////////


        //////////////////////////////////The below code toggles cancel button and updates user name and email to database//////////////

        $(document).ready(function () {
            $("#updateName").submit(function (event) {

                var viewMode = document.getElementById('viewMode');
                var editMode = document.getElementById('editMode');

                var firstName = document.getElementById('firstNameEdit').value;
                var email = document.getElementById('emailEdit').value;

                document.getElementById('firstNameDisplay').innerText = firstName;
                document.getElementById('emailDisplay').innerText = email;

                viewMode.classList.remove('hidden');
                editMode.classList.add('hidden');

                event.preventDefault(); // Prevent default form submission

                var name = firstName;
                var email = email;
                document.getElementById('firstNameDisplay').innerText = firstName;
                document.getElementById('emailDisplay').innerText = email;
                // Send data to PHP backend using AJAX
                $.ajax({
                    url: "user_update_basic.php",
                    method: "POST",
                    data: { name: name, email: email, userid: userid }, // Include the token in the data
                    success: function (response) {
                        //console.log(response); // Log the response from PHP backend

                    },
                    error: function (xhr, status, error) {
                        console.error(xhr.responseText); // Log any errors
                    }
                });
            });
        });
        //////////////////////////////////The below code toggles cancel button and updates user name and email to database//////////////

        $(document).ready(function () {
            $("#updateEducation").submit(function (event) {

                var viewMode = document.getElementById('viewMode');
                var editMode = document.getElementById('editMode');

                var schoolName = document.getElementById('schoolEdit').value;
                var interName = document.getElementById('interEdit').value;
                var graduationName = document.getElementById('graduationEdit').value;

                document.getElementById('schoolDisplay').innerText = schoolName;
                document.getElementById('interDisplay').innerText = interName;
                document.getElementById('graduationDisplay').innerText = graduationName;

                viewMode.classList.remove('hidden');
                editMode.classList.add('hidden');

                event.preventDefault(); // Prevent default form submission

                // var name = firstName;
                // var email = email;
                // var email = email;

                document.getElementById('schoolDisplay').innerText = schoolName;
                document.getElementById('interDisplay').innerText = interName;
                document.getElementById('graduationDisplay').innerText = graduationName;

                // Send data to PHP backend using AJAX
                // $.ajax({
                //     url: "user_update_basic.php",
                //     method: "POST",
                //     data: { name: name, email: email, userid: userid }, // Include the token in the data
                //     success: function (response) {
                //         //console.log(response); // Log the response from PHP backend

                //     },
                //     error: function (xhr, status, error) {
                //         console.error(xhr.responseText); // Log any errors
                //     }
                // });
            });
        });

        $(document).ready(function () {
            $("#updateContact").submit(function (event) {

                var viewMode = document.getElementById('viewMode');
                var editMode = document.getElementById('editMode');

                var addressName = document.getElementById('addressEdit').value;
                var phoneName = document.getElementById('phoneEdit').value;
                var countryName = document.getElementById('countryEdit').value;

                document.getElementById('addressDisplay').innerText = addressName;
                document.getElementById('phoneDisplay').innerText = phoneName;
                document.getElementById('countryDisplay').innerText = countryName;

                viewMode.classList.remove('hidden');
                editMode.classList.add('hidden');

                event.preventDefault(); // Prevent default form submission

                // var name = firstName;
                // var email = email;
                // var email = email;

                document.getElementById('addressDisplay').innerText = addressName;
                document.getElementById('phoneDisplay').innerText = phoneName;
                document.getElementById('countryDisplay').innerText = countryName;

                // Send data to PHP backend using AJAX
                // $.ajax({
                //     url: "user_update_basic.php",
                //     method: "POST",
                //     data: { name: name, email: email, userid: userid }, // Include the token in the data
                //     success: function (response) {
                //         //console.log(response); // Log the response from PHP backend

                //     },
                //     error: function (xhr, status, error) {
                //         console.error(xhr.responseText); // Log any errors
                //     }
                // });
            });
        });

        //////////////////////////////////The below code toggles edit button and cancel button //////////////////////////////////

        function toggleEditMode() {
            var viewMode = document.getElementById('viewMode');
            var editMode = document.getElementById('editMode');

            viewMode.classList.add('hidden');
            editMode.classList.remove('hidden');

            // Copy data from display fields to edit fields
            var firstName = document.getElementById('firstNameDisplay').innerText;
            var email = document.getElementById('emailDisplay').innerText;

            document.getElementById('firstNameEdit').value = firstName;
            document.getElementById('emailEdit').value = email;

        }
        //////////////////////////////////The above code toggles edit button and cancel button //////////////////////////////////


        //////////////////////////////////The below code toggles edit button and save button for education details//////////////////////

        function toggleEditMode2() {
            var viewMode2 = document.getElementById('viewMode2');
            var editMode2 = document.getElementById('editMode2');

            viewMode2.classList.add('hidden');
            editMode2.classList.remove('hidden');

            // Copy data from display fields to edit fields
            var schoolName = document.getElementById('schoolDisplay').innerText;
            var interName = document.getElementById('interDisplay').innerText;
            var graduationName = document.getElementById('graduationDisplay').innerText;

            document.getElementById('schoolEdit').value = schoolName;
            document.getElementById('interEdit').value = interName;
            document.getElementById('graduationEdit').value = graduationName;

        }

        function cancelEducationToggle() {
            var viewMode2 = document.getElementById('viewMode2');
            var editMode2 = document.getElementById('editMode2');

            viewMode2.classList.remove('hidden');
            editMode2.classList.add('hidden');

            // Copy data from display fields to edit fields
            var schoolName = document.getElementById('schoolDisplay').innerText;
            var interName = document.getElementById('interDisplay').innerText;
            var graduationName = document.getElementById('graduationDisplay').innerText;

        }
        //////////////////////////////////The above code toggles edit button and save button for education details//////////////////////

        //////////////////////////////////The below code save education details//////////////////////
        function saveChanges2() {
            var viewMode2 = document.getElementById('viewMode2');
            var editMode2 = document.getElementById('editMode2');

            var schoolName = document.getElementById('schoolEdit').value;
            var interName = document.getElementById('interEdit').value;
            var graduationName = document.getElementById('graduationEdit').value;

            document.getElementById('schoolDisplay').innerText = schoolName;
            document.getElementById('interDisplay').innerText = interName;
            document.getElementById('graduationDisplay').innerText = graduationName;

            viewMode2.classList.remove('hidden');
            editMode2.classList.add('hidden');
        }
        function toggleEditMode3() {
            var viewMode3 = document.getElementById('viewMode3');
            var editMode3 = document.getElementById('editMode3');

            viewMode3.classList.add('hidden');
            editMode3.classList.remove('hidden');

            // Copy data from display fields to edit fields
            var addressName = document.getElementById('addressDisplay').innerText;
            var phoneName = document.getElementById('phoneDisplay').innerText;
            var countryName = document.getElementById('countryDisplay').innerText;

            document.getElementById('addressEdit').value = addressName;
            document.getElementById('phoneEdit').value = phoneName;
            document.getElementById('countryEdit').value = countryName;

        }

        function cancelContact() {

            var viewMode3 = document.getElementById('viewMode3');
            var editMode3 = document.getElementById('editMode3');

            viewMode3.classList.remove('hidden');
            editMode3.classList.add('hidden');

        }

        function saveChanges3() {
            var viewMode3 = document.getElementById('viewMode3');
            var editMode3 = document.getElementById('editMode3');

            var addressName = document.getElementById('addressEdit').value;
            var phoneName = document.getElementById('phoneEdit').value;
            var countryName = document.getElementById('countryEdit').value;

            document.getElementById('addressDisplay').innerText = addressName;
            document.getElementById('phoneDisplay').innerText = phoneName;
            document.getElementById('countryDisplay').innerText = countryName;

            viewMode3.classList.remove('hidden');
            editMode3.classList.add('hidden');
        }

    </script>


    <script>
        //////////////////////////////////The below code is for image updates//////////////////////
        document.getElementById('upload-image-btn').addEventListener('click', function () {
            document.getElementById('upload-input').click();
        });

        document.getElementById('upload-input').addEventListener('change', function (e) {
            const file = e.target.files[0];
            const reader = new FileReader();
            reader.onload = function (e) {
                const image = document.getElementById('uploaded-image');
                image.src = e.target.result;
                image.onload = function () {
                    document.getElementById('edit-image-btn').style.display = 'inline-block';
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');

                    const MAX_WIDTH = 100; // Width of the passport size
                    const MAX_HEIGHT = 100; // Height of the passport size
                    let width = img.width;
                    let height = img.height;

                    if (width > height) {
                        if (width > MAX_WIDTH) {
                            height *= MAX_WIDTH / width;
                            width = MAX_WIDTH;
                        }
                    } else {
                        if (height > MAX_HEIGHT) {
                            width *= MAX_HEIGHT / height;
                            height = MAX_HEIGHT;
                        }
                    }

                    canvas.width = width;
                    canvas.height = height;

                    ctx.drawImage(img, 0, 0, width, height);

                    const dataUrl = canvas.toDataURL('image/jpeg');
                    document.getElementById('uploaded-image').src = dataUrl;

                    console.log("userid from param...", userid);
                    document.getElementById('useridinput').value = userid;
                };
            }
            reader.readAsDataURL(file);
        });

        document.getElementById('edit-image-btn').addEventListener('click', function () {
            const image = document.getElementById('uploaded-image');
            if (image.src !== "" && image.src !== "placeholder.jpg") {
                const cropper = new Cropper(image, {
                    aspectRatio: 3 / 4, // Aspect ratio for passport size (3:4)
                    viewMode: 1, // Show the cropped area in a fixed-size canvas
                    guides: true, // Show guides for cropping
                    autoCropArea: 1, // Show the whole image in the cropper initially
                    movable: true,
                    zoomable: true,
                    rotatable: true,
                    scalable: true,
                });
                cropper.crop();
                document.getElementById('edit-image-btn').style.display = 'none';
                document.getElementById('upload-input').style.display = 'none';

                document.getElementById('save-image-btn').style.display = 'block';
                document.getElementById('save-image-btn').innerText = 'Save Image';

                document.getElementById('save-image-btn').addEventListener('click', function () {
                    cropper.getCroppedCanvas().toBlob(function (blob) {
                        const newImage = new Image();
                        newImage.src = URL.createObjectURL(blob);
                        newImage.onload = function () {
                            image.src = newImage.src; // Set the src attribute of the img element to show the cropped image
                            URL.revokeObjectURL(newImage.src);
                            cropper.destroy(); // Destroy the Cropper instance after saving
                            document.getElementById('save-image-btn').style.display = 'none'; // Hide the "Save Image" button
                            document.getElementById('edit-image-btn').style.display = 'inline-block'; // Show the "Edit Image" button
                            document.getElementById('upload-input').style.display = 'none'; // Hide the "Upload Image" button
                        };
                    });
                });
            }
        });

        //////////////////////////////////The above code is for image updates//////////////////////


        //////////////////////////////////The below code is for search box//////////////////////

        document.getElementById("searchInput").addEventListener("keypress", function (event) {
            if (event.keyCode === 13) { // Enter key
                event.preventDefault();
            }
        });
        //////////////////////////////////The below code is for search box//////////////////////
        // Adjust box sizes based on text content
        $(document).ready(function () {
            $('.box').each(function () {
                var width = $(this).width();
                var height = $(this).height();
                var textWidth = $(this).find('span').width();
                var textHeight = $(this).find('span').height();

                if (textWidth > width || textHeight > height) {
                    $(this).width(textWidth + 20); // Add padding
                    $(this).height(textHeight + 20); // Add padding
                }
            });
        });

        function openPage(url) {
            window.location.href = url;
        }
    </script>
    <div class="container-fluid my-2">

        <footer class="text-center ">
            <!-- Copyright -->
            <div class="text-center text-white p-3" style="background-color: #ffc107;">
                Â© 2024 Copyright:
                <a class="text-white" href="">Sridevi College</a>
            </div>
            <!-- Copyright -->
        </footer>

    </div>
    <!-- End of .container -->
    <!-- End of .container -->
</body>

</html>